<!DOCTYPE html>
<!--
=========================================================
* Material Dashboard 2 - v3.0.4
=========================================================

* Product Page: https://www.creative-tim.com/product/material-dashboard
* Copyright 2022 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->

<!-- Version: 8.2 -->
<!-- Description: 메인페이지

----------------------------------------------------------------------------
	Date			 Author							Note
----------------------------------------------------------------------------
2022. 7. 6.			noranbear			약 데이터 불러오기 구현 테스트 완료

2022. 7. 14.	noranbear / najune				Bootstrap 연결

					noranbear		     Bootstrap 필요한 페이지만 남기기				
												  검색창 추가
												  
											side bar에 유저 로고 추가
												side bar 없애기
									    메인 페이지 헤더 아이콘과 검색창 구현
									    
2022. 7. 15							 foot 제작 및 검색창의 select list 구현

										기존 Bootstrap 및 작업 내용 삭제
											새 Bootstrap 연동 완료						
										   side bar와 헤더 유지시키기

2022. 7. 16							Bootstrap Dashboard page 템플릿으로 바꿈

2022. 7. 16			qwaszx357				 로그인 전 후 헤더 변경

2022. 7. 18									navbar에 처방 내역 추가

2022. 7. 18			noranbear			 Bootstrap Kit import 코드 추가
					
									   헤더에 로그인 버튼 및 프로필 사진 나오게 수정	
												 마이페이지 연결				
									side bar 하단 버튼 로그인/로그아웃 버튼으로 수정

2022. 7. 18			qwaszx357					  한글로 수정
												
											    plist 링크 수정
											  
2022. 7. 21.		noranbear				필요없는 import 지우기

2022. 7. 22.    	qwaszx357       			 footer 추가

2022. 8. 4.			noranbear					하단 plugin 삭제

2022. 8. 5.	      	qwaszx357				utype에 따른 navbar 변경
		
					noranbear				헤더 검색창 삭제 및 마이페이지 
												링크 mypage에 연결
											  
2022. 8. 8.			 ynr1734			페이지 타이틀 변경 및 favicon 변경		

2022. 8. 12.		qwaszx357						링크 수정

----------------------------------------------------------------------------
-->

<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">

<!-- 1. Bootstrap import 시작 -->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
<link rel="icon" type="image/png" href="./assets/img/favicon.png">
<!-- 1. 끝 -->

<title>e약어때</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- 2. Bootstrap import 시작 -->
<!--  Fonts and icons  -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
<!-- Nucleo Icons -->
<link href="./assets/css/nucleo-icons.css" rel="stylesheet" />
<link href="./assets/css/nucleo-svg.css" rel="stylesheet" />
<!-- Font Awesome Icons -->
<script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
<!-- Material Icons -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
<!-- CSS Files -->
<link id="pagestyle" href="./assets/css/material-dashboard.css?v=3.0.4" rel="stylesheet" />
<!-- 2. 끝 -->

<style>
html {
	height: 100%;
}

body {
	min-height: 100%;
}

header {
	min-height: 93%;
    position: relative;
    padding-bottom: 15px;
}

main {
	height: 100vh;
}

footer {
    width: 100%;
    height: 15px;
    bottom: 0;
    padding: 5px;
    position: relative;
}
</style>

</head>

<body class="g-sidenav-show  bg-gray-200">
    
    <!-- 1. Side bar 시작 -->
    <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 bg-gradient-dark" id="sidenav-main">
		<div class="sidenav-header">
			<i class="fas fa-times p-3 cursor-pointer text-white opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
			<a class="navbar-brand m-0">
				<img src="../assets/img/logo-ct.png" class="navbar-brand-img h-100" alt="main_logo">
				<span class="ms-1 font-weight-bold text-white">e약어때</span>
			</a>
		</div>
		<hr class="horizontal light mt-0 mb-2">
		<div class="collapse navbar-collapse w-auto" id="sidenav-collapse-main">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link text-white active bg-gradient-primary" th:href="@{/}">
						<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
							<i class="material-icons opacity-10">search</i>
						</div>
						<span class="nav-link-text ms-1">검색</span>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link text-white" th:href="@{/dashboard}">
						<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
							<i class="material-icons opacity-10">dashboard</i>
						</div>
						<span class="nav-link-text ms-1">대시보드</span>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link text-white" th:href="@{/mymedi}">
						<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
							<i class="material-icons opacity-10">add_box</i>
						</div>
						<span class="nav-link-text ms-1">약 보관함</span>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link text-white " th:href="@{/plist}">
						<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
							<i class="material-icons opacity-10">receipt</i>
						</div>
						<span class="nav-link-text ms-1">처방내역</span>
					</a>
				</li>
				<li class="nav-item mt-3">
					<h6 class="ps-4 ms-2 text-uppercase text-xs text-white font-weight-bolder opacity-8">계정</h6>
				</li>
				<div th:if="${session.signinusers != null}">
					<li class="nav-item">
						<a class="nav-link text-white " th:if="${session.signinusers.utype == 10}" th:href="@{/admin}">
							<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
								<i class="material-icons opacity-10">person</i>
							</div>
							<span class="nav-link-text ms-1">관리자페이지</span>
						</a>
						<a class="nav-link text-white " th:unless="${session.signinusers.utype == 10}" th:href="@{/mypage}">
							<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
								<i class="material-icons opacity-10">person</i>
							</div>
							<span class="nav-link-text ms-1">마이페이지</span>
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-white" th:href="@{/signout}">
							<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
								<i class="material-icons opacity-10">login</i>
							</div>
							<span class="nav-link-text ms-1">로그아웃</span>
						</a>
					</li>
				</div>
				<!-- 로그인이 안 되어 있을 때 -->
				<div th:unless="${session.signinusers != null}">
					<li class="nav-item">
						<a class="nav-link text-white" th:href="@{/signin}">
							<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
								<i class="material-icons opacity-10">login</i>
							</div>
							<span class="nav-link-text ms-1">로그인</span>
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-white" th:href="@{/signup}">
							<div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
								<i class="material-icons opacity-10">assignment</i>
							</div>
							<span class="nav-link-text ms-1">회원가입</span>
						</a>
					</li>
				</div>
			</ul>
		</div>
	</aside>
	<!-- 1. Side bar 끝 -->

	<!-- 2. 메인화면 시작 -->
    <main class="main-content position-relative border-radius-lg ">
    
        <!-- 헤더 시작 -->
        <header>
			<nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" data-scroll="true">
				<div class="container-fluid py-1 px-3">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
							<li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark" th:href="@{/}">e약어때</a></li>
							<li class="breadcrumb-item text-sm text-dark active" aria-current="page" th:text=${pagename}>Search</li>
						</ol>
						<h6 class="font-weight-bolder mb-0" th:text=${pagename2}>Search</h6>
					</nav>
					<div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
						<div class="ms-md-auto pe-md-3 d-flex align-items-center"></div>
						<!-- 로그인 전 헤더 시작 -->
						<ul class="navbar-nav justify-content-end" th:if="${session.signinusers == null}">
							<li class="nav-item d-flex align-items-center">
								<a th:href="@{/signin}" data-bs-toggle="tooltip" data-bs-placement="bottom" 
								title="로그인" data-container="body" data-animation="true">
									<span class="d-sm-inline d-none"><i class="fa fa-user me-sm-1"></i></span>
								</a>
							</li>
							<li class="nav-item d-xl-none ps-3 d-flex align-items-center">
								<a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
									<div class="sidenav-toggler-inner">
										<i class="sidenav-toggler-line"></i>
										<i class="sidenav-toggler-line"></i>
										<i class="sidenav-toggler-line"></i>
									</div>
								</a>
							</li>
						</ul>
						<!-- 로그인 전 헤더 끝 -->
						<!-- 로그인 후 헤더 시작-->
						<ul class="navbar-nav justify-content-end" th:unless="${session.signinusers == null}">
						<li class="nav-item dropdown pe-3 d-flex align-items-center">
								<a href="javascript:;" class="nav-link text-body p-0" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
									<i class="fa fa-bell cursor-pointer"></i>
								</a>
								<ul class="dropdown-menu dropdown-menu-end px-2 py-3 me-sm-n4" aria-labelledby="dropdownMenuButton">
									<li class="mb-2">
										<a class="dropdown-item border-radius-md" href="javascript:;">
											<div class="d-flex py-1">
												<div class="my-auto">
													<img src='../img/prescript-icon.png' alt='처방전 아이콘' class="avatar avatar-sm me-3">
												</div>
												<div class="d-flex flex-column justify-content-center">
													<h6 class="text-sm font-weight-normal mb-1">
														<span class="font-weight-bold">복약 알람: </span> 나래병원 처방전
													</h6>
													<p class="text-xs text-secondary mb-0">
														<i class="fa fa-clock me-1"></i>
														오후 1시 30분
													</p>
												</div>
											</div>
										</a>
									</li>
									<li class="mb-2">
										<a class="dropdown-item border-radius-md" href="javascript:;">
											<div class="d-flex py-1">
												<div class="my-auto">
													<img src='../img/med-icon.png' alt='약 아이콘' class="avatar avatar-sm bg-gradient-dark me-3">
												</div>
												<div class="d-flex flex-column justify-content-center">
													<h6 class="text-sm font-weight-normal mb-1">
														<span class="font-weight-bold">판콜에이내복액:</span> 사용기한 만료
													</h6>
													<p class="text-xs text-secondary mb-0">
														<i class="fa fa-clock me-1"></i>
														2022-08-19
													</p>
												</div>
											</div>
										</a>
									</li>
								</ul>
							<li class="nav-item d-flex align-items-center">
								<span id="uname"></span>
								<a th:href="@{/mypage}" class="avatar avatar-sm rounded-circle"
								data-bs-toggle="tooltip" data-bs-placement="bottom" 
								th:title="${session.signinusers.name}" data-container="body" data-animation="true">
									<img alt="프로필 사진" th:src="'../../img/'+${session.signinusers.photo}">
								</a>
							</li>
							<li class="nav-item d-xl-none ps-3 d-flex align-items-center">
								<a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
									<div class="sidenav-toggler-inner">
										<i class="sidenav-toggler-line"></i>
										<i class="sidenav-toggler-line"></i>
										<i class="sidenav-toggler-line"></i>
									</div>
								</a>
							</li>
						</ul>
						<!-- 로그인 후 헤더 끝 -->
					</div>
				</div>
			</nav>
			
			<!-- 메인 안 컨텐츠 화면 시작 -->
			<div class="container-fluid py-4" th:insert="${center} ? ${center} : center">       
			</div>
		</header>
		<!-- 헤더 끝-->
		<!-- 메인 안 컨텐츠 화면 끝 -->
		
		<!-- Footer 시작 -->
		<footer class="footer py-4 mb-2">
        	<div class="container-fluid">
          		<div class="row align-items-center justify-content-lg-between">
            		<div class="col-lg-6 mb-lg-0 mb-4">
              			<div class="copyright text-center text-sm text-muted text-lg-start text-bold">
                			© EZO Corp.
						</div>
					</div>
					<div class="col-lg-6">
						<ul class="nav nav-footer justify-content-center justify-content-lg-end">
							<li class="nav-item">
								<a th:href="@{/}" class="nav-link text-muted">회사소개</a>
							</li>
							<li class="nav-item">
								<a th:href="@{/}" class="nav-link text-muted">이용약관</a>
							</li>
							<li class="nav-item">
								<a th:href="@{/}" class="nav-link text-muted">개인정보처리방침</a>
							</li>
							<li class="nav-item">
								<a th:href="@{/}" class="nav-link pe-0 text-muted">고객센터</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</footer>
		<!-- Footer 끝 -->
      
	</main>
    <!-- 2. 메인 화면 끝 -->

	<!--   Core JS Files   -->
	<script src="../assets/js/core/popper.min.js"></script>
	<script src="../assets/js/core/bootstrap.min.js"></script>
	<script src="../assets/js/plugins/perfect-scrollbar.min.js"></script>
	<script src="../assets/js/plugins/smooth-scrollbar.min.js"></script>

	<script>
	  	var win = navigator.platform.indexOf('Win') > -1;
	  	if (win && document.querySelector('#sidenav-scrollbar')) {
	    	var options = {
	      		damping: '0.5'
	    	}
	    	Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
	    }
	</script>

	<!-- Github buttons -->
	<script async defer src="https://buttons.github.io/buttons.js"></script>
	<!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
	<script src="../assets/js/material-dashboard.min.js?v=3.0.4"></script>
	

</body>
</html>